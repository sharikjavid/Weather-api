#Weather API with LLM

Project Structure
-----------------
sharikjavid-weather-api/
├── app/
│   ├── api/            # API route definitions
│   ├── core/           # Core utilities (config, logging, etc.)
│   ├── models/         # Pydantic models for request/response validation
│   ├── services/       # External service integrations
│   │   ├── llm/        # Gemini LLM integration
│   │   └── weather/    # Weather API integrations (Open-Meteo, etc.)
│   └── main.py         # Application entry point
├── tests/              # Unit and integration tests
├── Dockerfile          # Docker configuration
├── requirements.txt    # Python dependencies
└── README.md           # Project documentation

A FastAPI-based service that fetches current weather information and generates a human-readable report using Google’s Gemini LLM.

Features
--------
- Current Temperature Data: Retrieve up-to-date temperature based on latitude and longitude.
- Natural Language Weather Report: Get a detailed, human-friendly summary generated by the Gemini LLM.
- Robust Error Handling: Comprehensive validation for input parameters and graceful handling of service or API errors.
- Configurable Logging: Flexible logging levels (INFO, DEBUG, etc.) for easier debugging and monitoring.
- Docker Support: Easily package and deploy the service in a Docker container.

Tech Stack
----------
- FastAPI – Modern, high-performance Python web framework
- Google Gemini API – Advanced Large Language Model for generating human-friendly text
- Open-Meteo API – Reliable weather data source
- Pytest – Comprehensive test framework
- Docker – Containerization for consistent deployment

Getting Started
---------------
Prerequisites:
- Python 3.11+
- Google Gemini API Key (for LLM functionality)

Installation:

1. Clone the repository:
   git clone https://github.com/yourusername/sharikjavid-weather-api.git
   cd sharikjavid-weather-api

2. Create a virtual environment (recommended) and activate it:
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate

3. Install dependencies:
   pip install -r requirements.txt

4. Configure environment variables:
   Create a .env file in the project root with the following content:
   GEMINI_API_KEY=your_gemini_api_key
   LOG_LEVEL=INFO

Running the Application
-----------------------
Use Uvicorn to run the FastAPI application in development mode:

   uvicorn app.main:app --reload

The API will be accessible at:
http://127.0.0.1:8000

Docker Deployment
-----------------
Option 1: Build and Run Locally

1. Build the Docker image:
   docker build -t weather-api .

2. Run the Docker container:
   docker run -p 8000:8000 -d weather-api

Option 2: Pull Pre-Built Image from Docker Hub

1. Pull the image:
   docker pull 2424048sha/weather-api

2. Run the container:
   docker run -p 8000:8000 -d 2424048sha/weather-api

Testing
-------
Run the test suite with:
   pytest

Or run specific tests with verbose output:
   pytest tests/test_api.py -v

Sample Test Output:
==================== test session starts ====================
platform win32 -- Python 3.12.7, pytest-8.3.5, pluggy-1.5.0
collected 5 items

tests/test_api.py::TestWeatherAPI::test_get_weather_success PASSED [ 20%]
tests/test_api.py::TestWeatherAPI::test_get_weather_llm_failure PASSED [ 40%]
tests/test_api.py::TestWeatherAPI::test_get_weather_invalid_coordinates PASSED [ 60%]
tests/test_api.py::TestWeatherAPI::test_get_weather_missing_parameters PASSED [ 80%]
tests/test_api.py::TestWeatherAPI::test_get_weather_service_error PASSED [100%]

=============== 5 passed in 1.89s ===============

API Documentation
-----------------
FastAPI automatically generates API documentation. Once the server is running, visit:
- Swagger UI: http://127.0.0.1:8000/docs
- ReDoc: http://127.0.0.1:8000/redoc

Endpoints
---------
GET /weather
Fetches current weather details and generates a user-friendly report.

Query Parameters:
- latitude (float, required): A value between -90 and 90.
- longitude (float, required): A value between -180 and 180.

Response Example:
{
  "temperature": 15.2,
  "unit": "°C",
  "report": "The current temperature is 15.2°C, which feels cool and comfortable. Expect partly cloudy skies throughout the day. A light jacket or sweater is recommended for outdoor activities."
}

License
-------
This project is licensed under the MIT License.
